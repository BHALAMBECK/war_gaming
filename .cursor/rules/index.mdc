# OSWV Project Context

## Project Purpose
ORBITAL SWARM WARGAME VISUALIZER (OSWV) is a browser-based interactive 3D space swarm sandbox. It renders Earth, satellites, orbit propagation, swarm behaviors, scenario editor, and cinematic capture. Built for impressive demos and education, NOT real-world weaponization.

## Operating Mode: Plan/Act Protocol
- PLAN MODE: Propose plan, file diffs, acceptance checks. Do NOT implement until user says "ACT".
- ACT MODE: Implement exactly the agreed plan. Keep diffs minimal. Run checks. Summarize changes.

## Safety Guardrails
Do NOT implement features that enable real-world harm:
- No targeting, weapon effects, intercept guidance, jamming, or sensor simulation mirroring operational kill chains.
- Swarm behaviors must be abstract: cohesion, separation, alignment, formation, task allocation.
- NOT framed as attack behaviors.
- Allowed: orbital mechanics, collision avoidance, station-keeping as gameplay, formation flying, rendezvous as puzzle, abstract objectives.

## Units Discipline
- SI units internally: meters (m), seconds (s), kilograms (kg).
- Clearly label any conversions at module boundaries.
- Document unit assumptions in function signatures.

## Testing Expectations
- Minimum coverage for sim math and serialization.
- Golden tests for deterministic runs (same seed + scenario = same output).
- Unit tests for orbit propagation, vector math, seed RNG.

## Coding Style
- TypeScript strict mode, no `any`.
- Small, focused functions.
- Separation of concerns: rendering ≠ simulation, UI ≠ physics.
- Performance budgets: 60 FPS for 500 agents, 30 FPS for 5,000 agents.
- Small commits per milestone with CHANGELOG entry.

## Architecture Principles
- Deterministic simulation: same seed + scenario = same run.
- Separation: render/sim/UI/scenario layers.
- Performance: instancing for many agents, sim step independent of render FPS.
- UI: one right-side panel max, minimal controls, hotkeys.

## Repository Strategy
- MAIN branch: fast shipping, pragmatic.
- MANUAL branch: smaller edits, more comments, step-by-step commits.
- Both tracks share same architecture and file layout.
